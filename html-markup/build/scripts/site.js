$(function(){!function(){function a(a,n){var e=a,l=i.data("title-normal"),s=i.data("title-loading");t=!0,$(".js-preloader-Wait").show(),i.html(s);var h=e.attr("href");$.get(e.attr("href"),function(a){$(".js-preloader-Wait").hide(),i.html(l),t=!1,history.pushState(null,null,h),r.find(".btn.btn_green-border").removeClass("btn_green-border").addClass("btn_green"),r.find(".btn[data-page='"+o+"']").removeClass("btn_green").addClass("btn_green-border");var e=$(a);"append"==n?$(".ajax-list").append(e.find(".ajax-list").html()):($(".ajax-list").html(e.find(".ajax-list").html()),o<d&&i.show()),e.find(".ajax-link").length?(i.attr("href",e.find(".ajax-link").attr("href")),o=Number(o)+1,i.attr("data-page",String(o))):(i.hide(),o=Number(o)+1)})}var t=!1,n=$(".js-pagination-container"),e=n.find(".ajax-link"),i=e,r=$(".js-pagination-wrap"),o=e.data("page"),d=n.data("count-pages");$("body").on("click",".ajax-link",function(t){t.preventDefault(),a($(this),"append")}),$(document).scroll(function(){var e=n.offset().top,r=$(window).height(),l=$(document).scrollTop(),s=e-r;return(void 0===t||!t)&&(!(o>d)&&void(l>=s+$(window).height()/3&&$(".ajax-link").length&&a(i,"append")))}),$(document).on("click",".js-pagination-wrap a",function(t){var n=$(this);return o=n.attr("data-page"),a(n,"html"),!1})}()});